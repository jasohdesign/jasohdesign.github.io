<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Room</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="scripts/aframe-particle-system-component.js"></script>
    <script src="scripts/aframe-video-controls.js"></script>
    <!-- <script src="scripts/aframe-video-controls.min.js"></script> -->
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script> 
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.2.6/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/ryanbetts/aframe-daydream-controller-component/master/dist/aframe-daydream-controller-component.min.js"></script>



  </head>
  <body>
    <a-scene>
    <a-entity position="0 0.5 4">
            <a-camera></a-camera>
            
            <a-entity id="remote" daydream-controller raycaster="objects: .selectable">
              <a-cone id="ray" color="cyan" position="0 0 -2" rotation="-90 0 0" radius-bottom="0.005" radius-top="0.001" height="4"></a-cone>
              <a-box id="position-guide" visible="false" position="0 0 -2"></a-box>
            </a-entity>

            <!-- <a-image class="selectable" id="back" src="#back_icon" position="0 0 1" width="1" height="1"></a-image> -->
      </a-entity>
  <!--     <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene> -->


      <a-ocean width="50" depth="50" density="40" opacity="0.3" position="40 -0.3 0"></a-ocean>
      <a-ocean width="50" depth="50" density="40" opacity="0.3" position="-40 -0.3 0"></a-ocean>
      <a-ocean width="50" depth="50" density="40" opacity="0.3" position="0 -0.5 45"></a-ocean>
      <a-ocean width="50" depth="50" density="40" opacity="0.3" position="0 -0.5 -33"></a-ocean>

      <a-gradient-sky material="shader: gradient; topColor: 255 62 105; bottomColor: 0 121 255;" radius="5000"></a-gradient-sky>

      <!-- <a-entity geometry="primitive: plane; height: 14; width: 22" position="-21 3.3 2" rotation="0 90 0"  material="shader: flat; 
      src: url(img/outside.jpg)"></a-entity>
      <a-entity geometry="primitive: plane; height: 14; width: 22" position="21 3.3 2" rotation="0 -90 0"  material="shader: flat; 
      src: url(img/outside3.jpg)"></a-entity> -->

      <a-assets>
          <video id="video_1" src="videos/theXX.mp4"></video>
          <!-- <img id="home_icon" crossorigin="anonymous" src="img/home_icon.png"> -->
          <img id="back_icon" crossorigin="anonymous" src="img/back_icon.png">
          <a-asset-item id="sofa-obj" src="assets/sofa_3.5.15.obj"></a-asset-item>
          <a-asset-item id="sofa-mtl" src="assets/sofa_3.5.15.mtl"></a-asset-item>
      </a-assets>

      <a-video src="#video_1" width="6" height="3.2" position="0 4.3 -5.519" autoplay="false"></a-video>
      <a-entity video-controls="src:#video_1"></a-entity>

      <a-entity geometry="primitive: box; depth: 1.6; height: 0.3; width: 5" position="0 1.8 -3.8" material="shader: flat; 
      src: url(img/table.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 1.6; height: 1.9; width: 0.2" position="2.7 1.0 -3.8" material="shader: flat;
        src: url(img/table.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 1.6; height: 1.9; width: 0.2" position="-2.7 1.0 -3.8" material="shader: flat; 
        src: url(img/table.jpg)"></a-entity>
        <!-- Laptop -->
      <!-- <a-obj-model src="#laptop-obj" mtl="#laptop.mtl" scale="0.01 0.01 0.01" position="0 0.05 1" rotation="0 0 0"></a-obj-model> -->


       <!-- sofa -->
      <a-obj-model src="#sofa-obj" mtl="#sofa-mtl" scale="1 1 1" position="0 -0.2 5.3" rotation="0 180 0"></a-obj-model>

      <!-- Floor -->
      <a-entity geometry="primitive: box; depth: 18; height: 0.5; width: 30" position="0 -0.5 2" material="shader: flat; 
      src: url(img/floor2.jpg); repeat: 15 10"></a-entity>
      <a-entity geometry="primitive: box; depth: 18; height: 0.5; width: 30" position="0 -0.5 20" material="shader: flat; 
      src: url(img/floor2.jpg); repeat: 15 10"></a-entity>
      <!-- Ceiling -->
      <a-entity geometry="primitive: box; depth: 18; height: 0.5; width: 30" position="0 7.5 2" material="shader: flat;  metalness: 0.8;
      src: url(img/wood1.jpg); repeat: 4 10"></a-entity>
      <a-entity geometry="primitive: box; depth: 18; height: 0.5; width: 30" position="0 7.5 20" material="shader: flat;  metalness: 0.8;
      src: url(img/wood1.jpg); repeat: 4 10"></a-entity>

      <!-- Wall Front -->
      <a-entity geometry="primitive: box; depth: 0.2; height: 7.5; width: 30" color="#52CDF1" position="0 3.5 -6.5" material="shader: standard; side: double; src: url(img/wall.jpg)"> ></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 7.5; width: 18" color="blue" position="0 3.5 11.1" material="shader: standard; side: double; src: url(img/wall.jpg)"> ></a-entity>

      <!-- Wall Left -->
      <a-entity geometry="primitive: box; depth: 0.2; height: 7.5; width: 18" position="15 3.5 20" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2.7; width: 17.4" position="-15 6.1 2.1" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 5; width: 1.8" position="-15 2.3 -5.5" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 5; width: 1.8" position="-15 2.3 10.0" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>

      <!-- Wall Right -->
      <a-entity geometry="primitive: box; depth: 0.2; height: 7.5; width: 18" position="-15 3.5 20" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2.7; width: 17.4" position="15 6.1 2.1" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 5; width: 1.8" position="15 2.3 -5.5" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 5; width: 1.8" position="15 2.3 10.0" rotation="0 90 0" material="shader: standard; side: double; src: url(img/wall.jpg)"></a-entity>

       <a-entity geometry="primitive: plane; height: 5; width: 14" position="-14.89 2.3 2.3" rotation="0 90 0"  material="shader: flat; side: double; transparent: true; 
      src: url(img/doors.png)"></a-entity>
       <a-entity geometry="primitive: plane; height: 5; width: 14" position="14.89 2.3 2.3" rotation="0 90 0"  material="shader: flat; side: double; transparent: true; 
      src: url(img/doors.png)"></a-entity>

      <!-- Beams -->
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 30" position="0 7.3 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
    <!--   <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 5" position="12.2 3.3 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity> -->
  <!--     <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 5" position="-12.2 3.3 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity> -->
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 30" position="0 -0.35 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 14" position="0 -0.35 10.9" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 18" position="14.8 -0.3 2.1" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 18" position="14.8 -0.3 20.1" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <!-- Beams Left -->
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 18" position="-14.8 -0.3 2.1" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 14.4" position="-14.8 4.8 2.35" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <!-- Beams Right -->
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 18" position="14.8 -0.3 2.1" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.3; height: 0.4; width: 14.4" position="14.8 4.8 2.35" rotation="0 90 0" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <!-- Beams Front -->
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="-14.7 3.5 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="14.7 3.5 -6.3" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="-14.7 3.5 10.9" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="14.7 3.5 10.9" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <!-- Beams Back -->
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="6.9 3.5 10.9" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.5; height: 7.5; width: 0.5" position="-6.9 3.5 10.9" material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 2 1"></a-entity>

      <!-- TV -->
      <a-entity geometry="primitive: box; depth: 0.5; height: 4.0; width: 6.6" position="0 4.2 -6.0" rotation="0 0 0"  material="shader: flat; src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      
      <!-- Pic frames -->
      <a-entity geometry="primitive: plane; height: 5; width: 6.6" position="9 4.1 -6.0" rotation="0 0 0"  material="shader: flat; src: url(img/right_frames.jpg)"></a-entity>
      <a-entity geometry="primitive: plane; height: 5; width: 6.6" position="-9 4.1 -6.0" rotation="0 0 0"  material="shader: flat; src: url(img/left_frames.jpg)"></a-entity>

      <!-- Wainscoting Left -->
      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 1.4" position="-14.9 1.5 -5.4" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 1.4" position="-14.9 1.5 9.95" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <!-- Wainscoting Right -->
      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 1.4" position="14.9 1.5 -5.4" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 1.4" position="14.9 1.5 9.95" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>

      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 18" position="14.9 1.5 20" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 10 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.1; height: 4; width: 18" position="-14.9 1.5 20" rotation="0 90 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 10 2"></a-entity>

      <!-- Carpet -->
      <a-entity geometry="primitive: plane; height: 6; width: 12" position="0 -0.2 2" rotation="-90 0 0"  material="shader: flat; transparent: true; src: url(img/carpet.png)"></a-entity>

      <!-- Art Table -->
      <a-entity geometry="primitive: box; depth: 1.3; height: 1.3; width: 6" position="0 0.96 10.1" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 5 1"></a-entity>
      <a-entity geometry="primitive: box; depth: 1.6; height: 0.1; width: 6.3" position="0 1.6 10.1" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 3"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2; width: 0.2" position="2.95 0.6 9.5" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2; width: 0.2" position="2.95 0.6 10.7" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2; width: 0.2" position="-2.95 0.6 9.5" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>
      <a-entity geometry="primitive: box; depth: 0.2; height: 2; width: 0.2" position="-2.95 0.6 10.7" rotation="0 0 0 " material="shader: flat; 
      src: url(img/wood1.jpg); repeat: 1 2"></a-entity>

      <!-- Art -->
      <a-entity geometry="primitive: plane; height: 4; width: 8" position="0 4.5 10.99" rotation="0 180 0"  material="shader: flat; transparent: true; 
       src: url(img/art.png)"></a-entity>
      <a-entity geometry="primitive: plane; height: 2.5; width: 3" position="14.89 5.3 15" rotation="0 -90 0"  material="shader: flat; 
       src: url(img/with_bro.png)"></a-entity>
      <a-entity geometry="pvan-rimitive: plane; height: 2.5; width: 3\" position="-14.89 5.3 15" rotation="0 90 0"  material="shader: flat; 
       src: url(img/with_bro2.png)"></a-entity>

      <!-- Lights -->
      <!-- <a-entity geometry="primitive: plane; height: 2; width: 2" position="-8 6.8 2.5" rotation="90 0 0"  material="shader: flat; transparent: true; 
       src: url(img/ceiling-light.png)"></a-entity>
       <a-entity geometry="primitive: plane; height: 2; width: 2" position="8 6.8 2.5" rotation="90 0 0"  material="shader: flat; transparent: true; 
       src: url(img/ceiling-light.png)"></a-entity> -->

      <!-- Camera -->
       <!-- <a-entity camera wasd-controls look-controls position="0 2 4">
          <a-cursor id="cursor"
               color="white" material raycaster cursor geometry position rotation scale visible>
                    
          </a-cursor>

      </a-entity> -->
 
      <!-- Lighting and background -->
       <script>
      // var sound = document.querySelector('[sound]');

      var remote = document.querySelector('#remote');
      var back = document.querySelector('#back');
      // var speaker = document.querySelector('#speaker');
      // var home = document.querySelector('#home');

      // var shouldPlaySound = false;
      var goBack = false;
      // var backToHome = true;

      var ray = document.querySelector('#ray');
      var voice_message = document.querySelector('#voice_message');
      var touchStartAxes;
      var minScale = 0.1;
      var scaleMultiplier = 1;
      var newScale = currentScale = 1;
      var focused = false;
      
      // back selected
      back.addEventListener('raycaster-intersected', function () {
        if (focused) return;
        focused = true;
        back.setAttribute('width','1.3');
        back.setAttribute('height','1.3');
        goBack = true;
      });
      back.addEventListener('raycaster-intersected-cleared', function () {
        focused = false;
        back.setAttribute('width','1.0');
        back.setAttribute('height','1.0');
        goBack = false;
      })
      // go back to original water scene
      remote.addEventListener('buttondown', function (e) {
        var target1 = e.target 
        // console.log(e.target);
        if (goBack == true){
          location.href='index.html'
        };
      });

      // auto enter VR
        // window.addEventListener('load', function () {
        //   var scene = document.querySelector('a-scene');
        //   if (scene.hasLoaded) {
        //     scene.enterVR();
        //   } else {
        //     el.addEventListener('loaded', function () {
        //       scene.enterVR();
        //     });
        //   }
        // });
    </script>
    </a-scene>
  </body>
</html>