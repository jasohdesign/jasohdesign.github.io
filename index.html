<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <meta name="description" content="Home">
    <script src="scripts/build.js"></script>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script> 
    <script src="https://rawgit.com/ryanbetts/aframe-daydream-controller-component/master/dist/aframe-daydream-controller-component.min.js"></script>

    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>

  </head>
  <body>
    <a-scene>
        <a-assets>
           <a-asset-item id="forRobin" src="assets/forRobin.dae"></a-asset-item>
           <!-- <a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item> -->
        </a-assets>
        
        <a-entity position="0 0 1">
            <a-camera></a-camera>
            
            <a-entity id="remote" daydream-controller raycaster="objects: .selectable">
              <a-cone id="ray" color="cyan" position="0 0 -2" rotation="-90 0 0" radius-bottom="0.005" radius-top="0.001" height="4"></a-cone>
              <a-box id="position-guide" visible="false" position="0 0 -2"></a-box>
            </a-entity>
        </a-entity>
        
        <!-- text -->
        <!-- <a-collada-model src="#forRobin" position="-0.6 2.7 -5" scale="15 15 15"></a-collada-model> -->
        <!-- <a-entity text-geometry="value: For Robin; font: #optimerBoldFont" position="-0.6 2.7 -5"></a-entity> -->
        
        <!-- center -->
        <a-sphere position="0 2 -5" radius="0.5" color="#BFBCC8" opacity="0.5"></a-sphere>
       
        <!-- <a-sphere position="0 0 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
           <a-animation attribute="position" dur="5000" from="0 0 -5" to="0 0 -7" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>  -->

        <!-- RIGHT BOTTOM/WATER -->
        <!-- <a-sphere position="-1 0.3 -7" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1 0.3 -7" to="-1 0.3 -5" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere> -->
        <a-sphere class="selectable" id="ToBoatScene_Sphere" position="-1.0 0.6 -5" radius="0.3" color="#DCD9E7" opacity="0.5">
            <a-animation id="ToBoatScene_Animation" attribute="position" dur="5000" from="-1.0 0.6 -5" to="-1.0 0.6 -7" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
       <!--  <a-sphere position="1 1 -7" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1 1 -7" to="1 1 -5" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.5 0.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.5 0.6 -5" to="1.5 0.6 -7" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-1.2 1 -3" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1.2 1 -3" to="-1.2 1 -4" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.2 1.2 -2.8" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.2 1.2 -2.8" to="1.2 1.2 -5" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="0 4 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="0 4 -5" to="0 4 -3" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-2 3.3 -6" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-2 3.3 -6" to="-2 3.3 -8" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-2 4 -6" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-2 4 -6" to="-2 4 -6.5" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-0.6 2.5 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-0.6 2.5 -5" to="-0.6 2.5 -7" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1 3.3 -4.5" radius="0.2" color="#DCD9E7" opacity="0.5">
             <a-animation attribute="position" dur="5000" from="1 3.3 -4.5" to="1 3.3 -5.5" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.5 2.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.5 2.6 -5" to="1.5 2.6 -4" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-1.5 2.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1.5 2.6 -5" to="-1.5 2.6 -4" fill="forward" direction="alternate" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
 -->

        <!-- Right Blob  -->
      <!--   <a-sphere position="10 2 3" radius="0.5" color="#BFBCC8" opacity="0.5"></a-sphere>
       
        <a-sphere position="10 0 3" radius="0.2" color="#DCD9E7" opacity="0.5">
           <a-animation attribute="position" dur="5000" from="0 0 3" to="0 0 1" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere> 
        <a-sphere position="10 0.3 4" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1 0.3 0" to="-1 0.3 -2" repeat="50000" ease-in-="linear"></a-animation> -->
       <!--  </a-sphere> --> 
        <!-- <a-sphere position="-1.0 0.6 -5" radius="0.3" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1.0 0.6 -5" to="-1.0 0.6 -7" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1 1 -7" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1 1 -7" to="1 1 -5" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.5 0.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.5 0.6 -5" to="1.5 0.6 -7" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-1.2 1 -3" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1.2 1 -3" to="-1.2 1 -4" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.2 1.2 -2.8" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.2 1.2 -2.8" to="1.2 1.2 -5" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="0 4 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="0 4 -5" to="0 4 -3" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-2 3.3 -6" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-2 3.3 -6" to="-2 3.3 -8" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-2 4 -6" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-2 4 -6" to="-2 4 -6.5" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-0.6 2.5 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-0.6 2.5 -5" to="-0.6 2.5 -7" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1 3.3 -4.5" radius="0.2" color="#DCD9E7" opacity="0.5">
             <a-animation attribute="position" dur="5000" from="1 3.3 -4.5" to="1 3.3 -5.5" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="1.5 2.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="1.5 2.6 -5" to="1.5 2.6 -4" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere>
        <a-sphere position="-1.5 2.6 -5" radius="0.2" color="#DCD9E7" opacity="0.5">
            <a-animation attribute="position" dur="5000" from="-1.5 2.6 -5" to="-1.5 2.6 -4" repeat="50000" ease-in-="linear"></a-animation>
        </a-sphere> -->

       
        <a-gradient-sky material="shader: gradient; topColor: 228 248 255; bottomColor: 189 224 237;" radius="5000"></a-gradient-sky>
        
        <script>
        var remote = document.querySelector('#remote');
        
        var BoatSphere = document.querySelector('#ToBoatScene_Sphere');
        var BoatAnimation = document.querySelector('#ToBoatScene_Animation');
        var goToBoatScene = false;

        // var speaker = document.querySelector('#speaker');
        // var home = document.querySelector('#home');

        // var shouldPlaySound = false;
        // var goBack = false;

        var ray = document.querySelector('#ray');
        // var voice_message = document.querySelector('#voice_message');
        var touchStartAxes;
        var minScale = 0.1;
        var scaleMultiplier = 1;
        var newScale = currentScale = 1;
        var focused = false;
      
        // back selected
        BoatSphere.addEventListener('raycaster-intersected', function () {
        if (focused) return;
            focused = true;
            BoatAnimation.stop();
            goToBoatScene = true;
        });
        back.addEventListener('raycaster-intersected-cleared', function () {
            focused = false;
            BoatAnimation.start();
            goToBoatScene = false;
      })
      // go back to original water scene
        remote.addEventListener('buttondown', function (e) {
        var target1 = e.target 
        BoatSphere.setAttribute('color','black');

        if (goToBoatScene == true){
          location.href='home.html'
        };
      });
    </script>
        
        <!-- <a-plane position="0 0 0" rotation="-90 0 0" width="10" height="10" color="#CBCED3"></a-plane> -->

       <!--  <a-entity camera wasd-controls look-controls position="0 0 3" rotation="0 0 0" cursor-visible="enabled:true">
            <a-entity cursor= "fuse: true; fuseTimeout: 500" 
                      position="0 0 -1" 
                      id="cursor" 
                      geometry="primitive: ring; radiusInner: 0.01; radiusOuter:0.015"
                      material= "color:red; shader:flat">
            <a-animation begin="click" ease-in-="ease-in" attribute="scale"
               fill="backwards" from="0.5 0.5 0.5" to="1 1 1"></a-animation>
            <a-animation begin="cursor-fusing" ease-in-="ease-in" attribute="scale"
               fill="forwards" from="1 1 1" to="0.5 0.5 0.5"></a-animation>

            </a-entity>
        </a-entity> -->
    </a-scene>
  </body>
</html>
